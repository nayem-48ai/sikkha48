<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { background-color: transparent; }
        .nagad-theme { background-color: #ED1C24; border-color: #ED1C24; }
        .bkash-theme { background-color: #E2136E; border-color: #E2136E; }
        .nagad-text { color: #ED1C24; }
        .bkash-text { color: #E2136E; }
        details summary::-webkit-details-marker { display: none; }
        .active-tab { border-bottom: 4px solid; background-color: #fcfcfc; }
    </style>
</head>
<body class="flex items-start justify-center font-sans">

    <div id="modal-container" class="bg-white w-full max-w-[450px] rounded-3xl shadow-2xl overflow-hidden relative border-t-8 border-[#ED1C24] transition-all duration-300">
        
        <div class="flex border-b">
            <button onclick="switchMethod('nagad')" id="btn-nagad" class="flex-1 py-5 flex items-center justify-center gap-2 font-bold active-tab border-[#ED1C24] text-[#ED1C24]">
                <img src="https://i.ibb.co.com/LzwQnhQ6/Nagad.png" class="h-6" alt="Nagad"> Nagad
            </button>
            <button onclick="switchMethod('bkash')" id="btn-bkash" class="flex-1 py-5 flex items-center justify-center gap-2 font-bold text-gray-400">
                <img src="https://i.ibb.co.com/bMxzXdbb/b-Kash.png" class="h-6" alt="bKash"> bKash
            </button>
        </div>

        <div class="p-6 text-center">
            <h1 class="text-lg font-bold text-gray-800">Sikkha48 Payment</h1>
            <p id="display-amount" class="text-4xl font-black nagad-text mt-1 transition-colors">৳50</p>
        </div>

        <div class="px-6 pb-6 space-y-4">
            
            <div id="method-box" class="bg-red-50 p-4 rounded-2xl border border-red-100 transition-colors">
                <p id="method-instruction" class="text-sm font-semibold text-gray-600 mb-2">নগদ 'Send Money' করুন এই নম্বরে:</p>
                <div class="flex items-center justify-between bg-white border border-dashed border-red-400 p-3 rounded-xl shadow-sm transition-colors" id="dashed-border">
                    <code id="acc-number" class="text-lg font-mono font-bold tracking-wider text-gray-800">01719470590</code>
                    <button onclick="copyNumber()" id="copy-btn" class="nagad-theme text-white text-[10px] px-3 py-2 rounded-lg font-bold transition-colors">
                        <i class="far fa-copy"></i> COPY
                    </button>
                </div>
                
                <details class="mt-3 group">
                    <summary class="text-xs text-blue-600 cursor-pointer list-none flex items-center gap-1 font-bold">
                        <span>কিভাবে টাকা পাঠাবেন?</span>
                        <i class="fas fa-chevron-down group-open:rotate-180 transition-transform"></i>
                    </summary>
                    <div id="step-details" class="text-[12px] text-gray-600 mt-2 bg-white p-3 rounded-lg leading-relaxed border border-gray-100 shadow-inner">
                        ১. নগদ অ্যাপ বা *167# ডায়াল করুন।<br>
                        ২. 'Send Money' অপশন সিলেক্ট করুন।<br>
                        ৩. নম্বরটি কপি করে পেস্ট করুন।<br>
                        ৪. পরিমাণ (৳৫০) লিখে কনফার্ম করুন।
                    </div>
                </details>
            </div>

            <div class="space-y-3">
                <input type="email" id="userEmail" placeholder="আপনার ইমেইল" class="w-full border-2 border-gray-100 rounded-xl p-3 focus:outline-none bg-gray-50/50 transition-all">
                <input type="text" id="trxID" placeholder="ট্রানজেকশন আইডি (TrxID)" class="w-full border-2 border-gray-100 rounded-xl p-3 focus:outline-none font-mono bg-gray-50/50 transition-all">
            </div>

            <button onclick="handleVerify()" id="verify-btn" class="w-full nagad-theme text-white py-4 font-bold rounded-2xl shadow-lg shadow-red-100 hover:scale-[1.02] active:scale-95 transition-all flex items-center justify-center gap-2">
                <i class="fab fa-whatsapp text-xl"></i> VERIFY ON WHATSAPP
            </button>
            
            <p class="text-[10px] text-gray-400 text-center uppercase tracking-widest">© Sikkha48 Manual Gateway</p>
        </div>
    </div>

    <script>
        let currentMethod = 'nagad';
        const data = {
            nagad: { 
                number: '01719470590', 
                color: '#ED1C24', 
                lightBg: '#FEF2F2', 
                border: '#FEE2E2', 
                steps: "১. নগদ অ্যাপ বা *167# ডায়াল করুন।<br>২. 'Send Money' অপশন সিলেক্ট করুন।<br>৩. নম্বরটি কপি করে পেস্ট করুন।<br>৪. পরিমাণ (৳৫০) লিখে কনফার্ম করুন।" 
            },
            bkash: { 
                number: '01605092363', 
                color: '#E2136E', 
                lightBg: '#FDF2F8', 
                border: '#FCE7F3', 
                steps: "১. বিকাশ অ্যাপ বা *247# ডায়াল করুন।<br>২. 'Send Money' অপশন সিলেক্ট করুন।<br>৩. নম্বরটি কপি করে পেস্ট করুন।<br>৪. পরিমাণ (৳৫০) লিখে পিন দিয়ে কনফার্ম করুন।" 
            }
        };

        function switchMethod(method) {
            currentMethod = method;
            const config = data[method];
            
            // UI Color Updates
            document.getElementById('modal-container').style.borderColor = config.color;
            document.getElementById('display-amount').style.color = config.color;
            document.getElementById('method-box').style.backgroundColor = config.lightBg;
            document.getElementById('method-box').style.borderColor = config.border;
            document.getElementById('dashed-border').style.borderColor = config.color;
            document.getElementById('verify-btn').style.backgroundColor = config.color;
            document.getElementById('copy-btn').style.backgroundColor = config.color;
            
            // Text Content Updates
            document.getElementById('acc-number').innerText = config.number;
            document.getElementById('method-instruction').innerText = (method === 'nagad' ? 'নগদ' : 'বিকাশ') + " 'Send Money' করুন এই নম্বরে:";
            document.getElementById('step-details').innerHTML = config.steps; // ড্রপ-ডাউন আপডেট

            // Input Focus Color Update
            const inputs = [document.getElementById('userEmail'), document.getElementById('trxID')];
            inputs.forEach(input => {
                input.onfocus = () => input.style.borderColor = config.color;
                input.onblur = () => input.style.borderColor = '#F3F4F6';
            });

            // Tab Styling
            if(method === 'nagad') {
                document.getElementById('btn-nagad').className = "flex-1 py-5 flex items-center justify-center gap-2 font-bold active-tab border-[#ED1C24] text-[#ED1C24]";
                document.getElementById('btn-bkash').className = "flex-1 py-5 flex items-center justify-center gap-2 font-bold text-gray-400 transition hover:bg-gray-50";
            } else {
                document.getElementById('btn-bkash').className = "flex-1 py-5 flex items-center justify-center gap-2 font-bold active-tab border-[#E2136E] text-[#E2136E]";
                document.getElementById('btn-nagad').className = "flex-1 py-5 flex items-center justify-center gap-2 font-bold text-gray-400 transition hover:bg-gray-50";
            }
        }

        // Initialize focus colors for default method
        window.onload = () => switchMethod('nagad');

        function copyNumber() {
            navigator.clipboard.writeText(data[currentMethod].number);
            const btn = document.getElementById('copy-btn');
            const originalText = btn.innerHTML;
            btn.innerHTML = "<i class='fas fa-check'></i> DONE";
            setTimeout(() => { btn.innerHTML = originalText; }, 1000);
        }

        function handleVerify() {
            const email = document.getElementById('userEmail').value;
            const trx = document.getElementById('trxID').value;
            const myWhatsApp = "8801719470590"; 

            if(!email || !trx) {
                alert("দয়া করে আপনার ইমেইল এবং ট্রানজেকশন আইডি প্রদান করুন।");
                return;
            }

            const msg = `Hello,\nI have paid via ${currentMethod.toUpperCase()}.\n\nDetails:\nEmail: ${email}\nTrxID: ${trx}\nAmount: 50 BDT\nSite: Sikkha48`;
            window.open(`https://wa.me/${myWhatsApp}?text=${encodeURIComponent(msg)}`, '_blank');
        }
    </script>
</body>
</html>
